{
    "contents" : "##### Chapter 2: Managing and Understanding Data -------------------\n\n##### R data structures --------------------\n\n## Vectors -----\n\n# create vectors of data for three medical patients\nsubject_name <- c(\"John Doe\", \"Jane Doe\", \"Steve Graves\")\ntemperature <- c(98.1, 98.6, 101.4)\nflu_status <- c(FALSE, FALSE, TRUE)\n\n# access the second element in body temperature vector\ntemperature[2]\n\n## examples of accessing items in vector\n# include items in the range 2 to 3\ntemperature[2:3]\n\n# exclude item 2 using the minus sign\ntemperature[-2]\n\n# use a vector to indicate whether to include item\ntemperature[c(TRUE, TRUE, FALSE)]\n\n## Factors -----\n\n# add gender factor\ngender <- factor(c(\"MALE\", \"FEMALE\", \"MALE\"))\ngender\n\n# add blood type factor\nblood <- factor(c(\"O\", \"AB\", \"A\"),\n                levels = c(\"A\", \"B\", \"AB\", \"O\"))\nblood\n\n## Lists -----\n\n# display information for a patient\nsubject_name[1]\ntemperature[1]\nflu_status[1]\ngender[1]\nblood[1]\n\n# create list for a patient\nsubject1 <- list(fullname = subject_name[1], \n                 temperature = temperature[1],\n                 flu_status = flu_status[1],\n                 gender = gender[1],\n                 blood = blood[1])\n\n# display the patient\nsubject1\n\n## methods for accessing a list\n\n# get a single list value by position\nsubject1[2]\n# get a single list value by name\nsubject1$temperature\n\n# get several list items by specifying a vector of names\nsubject1[c(\"temperature\", \"flu_status\")]\n\n## access a list like a vector\n# get values 4 and 5\nsubject1[4:5]\n\n## Data frames -----\n\n# create a data frame from medical patient data\n\npt_data <- data.frame(subject_name, temperature, flu_status, gender,\n                      blood, stringsAsFactors = FALSE)\n\n# display the data frame\npt_data\n\n## accessing a data frame\n\n# get a single column\npt_data$subject_name\n\n# get several columns by specifying a vector of names\npt_data[c(\"temperature\", \"flu_status\")]\n\n# this is the same as above, extracting temperature and flu_status\npt_data[2:3]\n\n# accessing by row and column\npt_data[1, 2]\n\n# accessing several rows and several columns using vectors\npt_data[c(1, 3), c(2, 4)]\n\n## Leave a row or column blank to extract all rows or columns\n\n# column 1, all rows\npt_data[, 1]\n# row 1, all columns\npt_data[1, ]\n# all rows and all columns\npt_data[ , ]\n\n# the following are equivalent to the above\npt_data[c(1, 3), c(\"temperature\", \"gender\")]\npt_data[-2, c(-1, -3, -5)]\n\n## Matrixes -----\n\n# create a 2x2 matrix\nm <- matrix(c('a', 'b', 'c', 'd'), nrow = 2)\nm\n\n# equivalent to the above\nm <- matrix(c('a', 'b', 'c', 'd'), ncol = 2)\nm\n\n# create a 2x3 matrix\nm <- matrix(c('a', 'b', 'c', 'd', 'e', 'f'), nrow = 2)\nm\n\n# create a 3x2 matrix\nm <- matrix(c('a', 'b', 'c', 'd', 'e', 'f'), ncol = 2)\nm\n\n# extract values from matrixes\nm[1, 1]\nm[3, 2]\n\n# extract rows\nm[1, ]\n\n# extract columns\nm[, 1]\n\n##### Exploring and understanding data --------------------\n\n## data exploration example using used car data\nusedcars <- read.csv(\"usedcars.csv\", stringsAsFactors = FALSE)\n\n# get structure of used car data\nstr(usedcars)\n\n## Exploring numeric variables -----\n\n# summarize numeric variables\nsummary(usedcars$year)\nsummary(usedcars[c(\"price\", \"mileage\")])\n\n# calculate the mean income\n(36000 + 44000 + 56000) / 3\nmean(c(36000, 44000, 56000))\n\n# the median income\nmedian(c(36000, 44000, 56000))\n\n# the min/max of used car prices\nrange(usedcars$price)\n\n# the difference of the range\ndiff(range(usedcars$price))\n\n# IQR for used car prices\nIQR(usedcars$price)\n\n# use quantile to calculate five-number summary\nquantile(usedcars$price)\n\n# the 99th percentile\nquantile(usedcars$price, probs = c(0.01, 0.99))\n\n# quintiles\nquantile(usedcars$price, seq(from = 0, to = 1, by = 0.20))\n\n# boxplot of used car prices and mileage\nboxplot(usedcars$price, main=\"Boxplot of Used Car Prices\",\n      ylab=\"Price ($)\")\n\nboxplot(usedcars$mileage, main=\"Boxplot of Used Car Mileage\",\n      ylab=\"Odometer (mi.)\")\n\n# histograms of used car prices and mileage\nhist(usedcars$price, main = \"Histogram of Used Car Prices\",\n     xlab = \"Price ($)\")\n\nhist(usedcars$mileage, main = \"Histogram of Used Car Mileage\",\n     xlab = \"Odometer (mi.)\")\n\n# variance and standard deviation of the used car data\nvar(usedcars$price)\nsd(usedcars$price)\nvar(usedcars$mileage)\nsd(usedcars$mileage)\n\n## Exploring numeric variables -----\n\n# one-way tables for the used car data\ntable(usedcars$year)\ntable(usedcars$model)\ntable(usedcars$color)\n\n# compute table proportions\nmodel_table <- table(usedcars$model)\nprop.table(model_table)\n\n# round the data\ncolor_table <- table(usedcars$color)\ncolor_pct <- prop.table(color_table) * 100\nround(color_pct, digits = 1)\n\n## Exploring relationships between variables -----\n\n# scatterplot of price vs. mileage\nplot(x = usedcars$mileage, y = usedcars$price,\n     main = \"Scatterplot of Price vs. Mileage\",\n     xlab = \"Used Car Odometer (mi.)\",\n     ylab = \"Used Car Price ($)\")\n\n# new variable indicating conservative colors\nusedcars$conservative <-\n  usedcars$color %in% c(\"Black\", \"Gray\", \"Silver\", \"White\")\n\n# checking our variable\ntable(usedcars$conservative)\n\n# Crosstab of conservative by model\nCrossTable(x = usedcars$model, y = usedcars$conservative)\n",
    "created" : 1410982607416.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "572365400",
    "id" : "EB1AE70",
    "lastKnownWriteTime" : 1381764117,
    "path" : "~/Machine Learning With R/MachineLearningWithR/chapter 2/2148_02.r",
    "project_path" : "2148_02.r",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}